{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <div class="row mb-4">
        <div class="col-12">
            <div class="alert alert-info">
                <h4>游늵 J콞su aktivit캐코u p캐rskats</h4>
                <p>만it varat redz캡t savu treni켽u statistiku un progresu laika gait캐.</p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 mb-4">
            <div class="card shadow">
                <div class="card-body">
                    <h3 class="card-title text-center mb-2">游댠 Kaloriju sadedzin캐코ana pa aktivit캐t캡m</h3>
                    <p class="text-muted text-center mb-4">Par캐da kop캡jo kaloriju daudzumu, kas sadedzin캐ts katr캐 aktivit캐tes veid캐</p>
                    <div id="caloriesChart" style="height: 400px;"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-body">
                    <h3 class="card-title text-center mb-2">游늺 Paveiktais att캐lums</h3>
                    <p class="text-muted text-center mb-4">Att캡lo J콞su noskrieto/noieto att캐lumu pa dien캐m</p>
                    <div id="distanceChart" style="height: 350px;"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card shadow">
                <div class="card-body">
                    <h3 class="card-title text-center mb-2">仇벒잺 Treni켽u intensit캐te</h3>
                    <p class="text-muted text-center mb-4">Par캐da, cik intens캶vi ir biju코i J콞su treni켽i, balstoties uz sirdsdarb캶bu</p>
                    <div id="heartRateChart" style="height: 350px;"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    {% if plots %}
        const caloriesData = {{ plots.calories|safe }};
        const distanceData = {{ plots.distance|safe }};
        const heartRateData = {{ plots.heart_rate|safe }};

        if (caloriesData) Plotly.newPlot('caloriesChart', caloriesData.data, caloriesData.layout);
        if (distanceData) Plotly.newPlot('distanceChart', distanceData.data, distanceData.layout);
        if (heartRateData) Plotly.newPlot('heartRateChart', heartRateData.data, heartRateData.layout);
    {% else %}
        document.querySelectorAll('.card-body').forEach(card => {
            card.innerHTML += '<p class="text-center text-muted">Nav pieejamu datu grafika att캡lo코anai</p>';
        });
    {% endif %}
</script>

{% endblock %}
